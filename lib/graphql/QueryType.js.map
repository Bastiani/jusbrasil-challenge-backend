{"version":3,"sources":["../../src/graphql/QueryType.js"],"names":["UserLoader","GraphQLObjectType","name","description","fields","node","nodeField","me","type","UserType","resolve","root","args","context","load","user","id","users","UserConnection","connectionType","connectionArgs","search","GraphQLString","obj","loadUsers"],"mappings":";;;;;;AACA;;AACA;;AAEA;;;;AACA;;AAEA;;IAAYA,U;;;;;;kBAEG,IAAIC,0BAAJ,CAAsB;AACnCC,QAAM,OAD6B;AAEnCC,eAAa,4BAFsB;AAGnCC,UAAQ,OAAO;AACbC,UAAMC,eADO;AAEbC,QAAI;AACFC,YAAMC,kBADJ;AAEFN,mBAAa,uBAFX;AAGFO,eAAS,OAAOC,IAAP,EAAaC,IAAb,EAAmBC,OAAnB,KAA+Bb,WAAWc,IAAX,CAAgBD,OAAhB,EAAyBA,QAAQE,IAAR,IAAgBF,QAAQE,IAAR,CAAaC,EAAtD;AAHtC,KAFS;AAObC,WAAO;AACLT,YAAM,6BAAeU,yBAAeC,cAA9B,CADD;AAELP,YAAM;AACJ,WAAGQ,4BADC;AAEJC,gBAAQ;AACNb,gBAAMc;AADA;AAFJ,OAFD;AAQLZ,eAAS,OAAOa,GAAP,EAAYX,IAAZ,EAAkBC,OAAlB,KAA8B,MAAMb,WAAWwB,SAAX,CAAqBX,OAArB,EAA8BD,IAA9B;AARxC;AAPM,GAAP;AAH2B,CAAtB,C","file":"QueryType.js","sourcesContent":["// @flow\nimport { GraphQLObjectType, GraphQLNonNull, GraphQLString } from 'graphql';\nimport { connectionArgs } from 'graphql-relay';\n\nimport UserType, { UserConnection } from '../modules/user/UserType';\nimport { nodeField } from '../interface/Node';\n\nimport * as UserLoader from '../modules/user/UserLoader';\n\nexport default new GraphQLObjectType({\n  name: 'Query',\n  description: 'The root of all... queries',\n  fields: () => ({\n    node: nodeField,\n    me: {\n      type: UserType,\n      description: 'Me is the logged user',\n      resolve: async (root, args, context) => UserLoader.load(context, context.user && context.user.id),\n    },\n    users: {\n      type: GraphQLNonNull(UserConnection.connectionType),\n      args: {\n        ...connectionArgs,\n        search: {\n          type: GraphQLString,\n        },\n      },\n      resolve: async (obj, args, context) => await UserLoader.loadUsers(context, args),\n    },\n  }),\n});\n"]}